<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unicode Tools Suite</title>
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --success: #2ecc71;
            --warning: #f39c12;
            --danger: #e74c3c;
            --light: #ecf0f1;
            --dark: #34495e;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: var(--dark);
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .tabs {
            display: flex;
            margin-bottom: 20px;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }
        
        .tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            background: white;
            border: none;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .tab.active {
            background: var(--secondary);
            color: white;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }
        
        .input-section, .output-section {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }
        
        .section-title {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--light);
            color: var(--primary);
        }
        
        .section-title i {
            margin-right: 10px;
            font-size: 1.2rem;
        }
        
        textarea {
            width: 100%;
            height: 300px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            resize: vertical;
            font-size: 1rem;
            line-height: 1.5;
            transition: border-color 0.3s;
            font-family: 'Courier New', monospace;
        }
        
        textarea:focus {
            outline: none;
            border-color: var(--secondary);
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
        }
        
        .actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        button {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        button i {
            margin-right: 8px;
        }
        
        .btn-primary {
            background-color: var(--secondary);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
        }
        
        .btn-success {
            background-color: var(--success);
            color: white;
        }
        
        .btn-success:hover {
            background-color: #27ae60;
            transform: translateY(-2px);
        }
        
        .btn-warning {
            background-color: var(--warning);
            color: white;
        }
        
        .btn-warning:hover {
            background-color: #e67e22;
            transform: translateY(-2px);
        }
        
        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--secondary);
            color: var(--secondary);
        }
        
        .btn-outline:hover {
            background-color: rgba(52, 152, 219, 0.1);
        }
        
        .file-upload {
            margin-top: 15px;
        }
        
        .file-upload label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
        }
        
        .file-input {
            width: 100%;
            padding: 8px;
            border: 1px dashed #ddd;
            border-radius: 6px;
            background-color: #fafafa;
        }
        
        .output-text {
            position: relative;
        }
        
        .copy-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            z-index: 10;
        }
        
        .download-btn {
            position: absolute;
            top: 10px;
            right: 120px;
            z-index: 10;
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: #7f8c8d;
            font-size: 0.9rem;
            border-top: 1px solid #eee;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            background: var(--success);
            color: white;
            border-radius: 5px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transform: translateX(150%);
            transition: transform 0.3s ease;
            z-index: 1000;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification.error {
            background: var(--danger);
        }
        
        .notification.warning {
            background: var(--warning);
        }
        
        .loading {
            display: none;
            text-align: center;
            padding: 10px;
        }
        
        .loading i {
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .output {
            margin: 3em 0;
            border: 1px solid #666666;
            padding: 0.4em 0.2em;
            font-family: Courier New, Courier, monospaced;
            cursor: default;
            height: 300px;
            overflow-y: auto;
            white-space: pre-wrap;
            word-break: break-all;
            line-height: 1.5;
        }
        
        .output span.symbol {
            color: white;
            background-color: #999999;
            padding: 0 2px;
            margin: 0 2px;
        }
        
        .output span.hex {
            color: black;
            background-color: #9999FF;
            padding: 0 2px;
            margin: 0 2px;
        }
        
        .output span.white {
            color: #333;
            background-color: #f0f0f0;
        }
        
        span.S2Tooltip.anchor {
            white-space: nowrap;
            position: relative;
            display: inline-block;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        span.S2Tooltip.anchor:hover {
            background-color: #FF9999 !important;
            border: 2px solid #FF4444;
            box-shadow: 0 2px 6px rgba(255, 68, 68, 0.4);
            border-radius: 3px;
            position: relative;
            z-index: 998;
        }

        span.S2Tooltip.container {
            position: absolute;
            z-index: 999;
            left: -99999px;
            top: -99999px;
        }

        span.S2Tooltip.anchor:hover + span.S2Tooltip.container {
            left: 0;
            top: 100%;
            transform: translateX(-50%);
        }

        span.S2Tooltip.tiptext {
            position: absolute;
            left: 50%;
            top: 100%;
            transform: translateX(-50%);
            margin-top: 5px;
            padding: 0.5em 0.8em 0.7em 0.8em;
            color: black;
            background-color: #DDDDFF;
            border: 1px solid #9999FF;
            font-weight: normal;
            text-align: center;
            display: block;
            text-indent: 0;
            z-index: 1000;
            white-space: nowrap;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            border-radius: 4px;
            max-width: 120px;
            word-wrap: break-word;
        }

        .unicode-display {
            margin-top: 15px;
            padding: 15px;
            background: #f8f9fa;
            border: 1px solid #ddd;
            border-radius: 6px;
            min-height: 60px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
        }

        .unicode-placeholder {
            color: #6c757d;
            text-align: center;
            font-style: italic;
        }

        .unicode-details {
            color: #2c3e50;
        }

        .unicode-details strong {
            color: #e74c3c;
        }
        
        .info-section {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            margin-bottom: 20px;
        }
        
        .info-section h2 {
            margin-bottom: 15px;
            color: var(--primary);
        }
        
        .info-section ul {
            margin-left: 20px;
        }
        
        .info-section li {
            margin-bottom: 8px;
        }
        
        .info-section a {
            color: var(--secondary);
            text-decoration: none;
        }
        
        .info-section a:hover {
            text-decoration: underline;
        }
        
        .upload-area {
            border: 2px dashed var(--secondary);
            border-radius: 8px;
            padding: 30px 15px;
            text-align: center;
            background-color: #f8f9ff;
            margin-bottom: 15px;
            transition: all 0.3s;
            position: relative;
        }
        
        .upload-area.active {
            background-color: #e3f2fd;
            border-color: var(--secondary);
        }
        
        .upload-icon {
            font-size: 40px;
            margin-bottom: 10px;
            color: var(--secondary);
        }
        
        .file-list {
            margin-top: 15px;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .file-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #eee;
        }
        
        .file-item:last-child {
            border-bottom: none;
        }
        
        .file-info {
            display: flex;
            align-items: center;
            flex: 1;
        }
        
        .file-icon {
            margin-right: 10px;
            font-size: 1.2rem;
        }
        
        .file-details {
            flex: 1;
        }
        
        .file-name {
            font-weight: 500;
            margin-bottom: 4px;
            word-break: break-all;
        }
        
        .file-meta {
            font-size: 0.8rem;
            color: #6c757d;
        }
        
        .file-actions {
            display: flex;
            gap: 8px;
        }
        
        .action-btn {
            background: none;
            border: none;
            cursor: pointer;
            color: #6c757d;
            font-size: 1.1rem;
            transition: color 0.2s;
            padding: 4px;
            border-radius: 4px;
        }
        
        .action-btn:hover {
            color: var(--secondary);
        }
        
        .text-output {
            background: #f8f9fa;
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 15px;
            white-space: pre-wrap;
            font-family: 'Courier New', monospace;
            line-height: 1.5;
            max-height: 400px;
            overflow-y: auto;
            margin-bottom: 15px;
        }
        
        .output-actions {
            display: flex;
            gap: 10px;
        }
        
        .output-actions .btn {
            width: auto;
            flex: 1;
        }
        
        .empty-state {
            text-align: center;
            padding: 30px 15px;
            color: #6c757d;
        }
        
        .empty-state i {
            font-size: 40px;
            margin-bottom: 10px;
            opacity: 0.5;
        }
        
        .file-count {
            font-size: 0.9rem;
            color: #6c757d;
            margin-bottom: 10px;
        }
        
        .warning {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 10px 15px;
            border-radius: 6px;
            margin-bottom: 15px;
            font-size: 0.9rem;
        }
        
        .rejected-files {
            margin-top: 15px;
            padding: 15px;
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 6px;
            display: none;
        }
        
        .rejected-files h4 {
            color: #856404;
            margin-bottom: 10px;
        }
        
        .rejected-file-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #ffeaa7;
        }
        
        .rejected-file-item:last-child {
            border-bottom: none;
        }
        
        .progress-bar {
            height: 6px;
            background: #e9ecef;
            border-radius: 3px;
            margin-top: 10px;
            overflow: hidden;
            display: none;
        }
        
        .progress {
            height: 100%;
            background: var(--secondary);
            width: 0%;
            transition: width 0.3s;
        }
        
        .file-type-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-top: 10px;
            justify-content: center;
        }
        
        .file-type-tag {
            background: rgba(52, 152, 219, 0.1);
            color: var(--secondary);
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
        }
        
        .extractor-main-content {
            display: block;
        }
        
        .extractor-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }
        
        .extractor-card-title {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: var(--primary);
            border-bottom: 1px solid #eee;
            padding-bottom: 8px;
        }
        
        .whitelist-info {
            background-color: #e8f4fd;
            border: 1px solid #b6d7f2;
            color: #0c5460;
            padding: 10px 15px;
            border-radius: 6px;
            margin-bottom: 15px;
            font-size: 0.9rem;
        }
        
        .extensions-manager {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 15px;
            margin-top: 20px;
        }
        
        .extensions-manager h3 {
            margin-bottom: 15px;
            color: var(--primary);
            font-size: 1.1rem;
        }
        
        .extensions-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .extensions-controls input {
            flex: 1;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 0.9rem;
        }
        
        .extensions-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            max-height: 120px;
            overflow-y: auto;
            padding: 10px;
            background: white;
            border-radius: 4px;
            border: 1px solid #e9ecef;
        }
        
        .extension-tag {
            background: var(--secondary);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .extension-tag .remove {
            cursor: pointer;
            font-weight: bold;
            margin-left: 3px;
        }
        
        .extension-tag.system {
            background: #6c757d;
        }
        
        .file-size-info {
            margin-top: 10px;
            font-size: 0.8rem;
            color: #6c757d;
            text-align: center;
        }
        
        body.dark-mode {
            background-color: #1a1a1a;
            color: #e0e0e0;
        }

        body.dark-mode header {
            background: linear-gradient(135deg, #1e3c72, #2a5298);
        }

        body.dark-mode .tabs {
            background: #2d2d2d;
        }

        body.dark-mode .tab {
            background: #2d2d2d;
            color: #e0e0e0;
        }

        body.dark-mode .tab.active {
            background: #2a5298;
        }

        body.dark-mode .input-section,
        body.dark-mode .output-section,
        body.dark-mode .info-section,
        body.dark-mode .extractor-card {
            background: #2d2d2d;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        body.dark-mode .section-title {
            border-bottom-color: #444;
            color: #e0e0e0;
        }

        body.dark-mode textarea {
            background: #1a1a1a;
            border-color: #444;
            color: #e0e0e0;
        }

        body.dark-mode textarea:focus {
            border-color: #2a5298;
            box-shadow: 0 0 0 2px rgba(42, 82, 152, 0.3);
        }

        body.dark-mode .file-input {
            background: #1a1a1a;
            border-color: #444;
            color: #e0e0e0;
        }

        body.dark-mode .output {
            background: #1a1a1a;
            border-color: #444;
            color: #e0e0e0;
        }

        body.dark-mode .unicode-display {
            background: #1a1a1a;
            border-color: #444;
            color: #e0e0e0;
        }

        body.dark-mode .unicode-placeholder {
            color: #888;
        }

        body.dark-mode .btn-outline {
            border-color: #2a5298;
            color: #2a5298;
        }

        body.dark-mode .btn-outline:hover {
            background-color: rgba(42, 82, 152, 0.1);
        }

        body.dark-mode .upload-area {
            background: #1a1a1a;
            border-color: #2a5298;
        }

        body.dark-mode .file-list {
            background: #2d2d2d;
        }

        body.dark-mode .file-item {
            border-bottom-color: #444;
        }

        body.dark-mode .text-output {
            background: #1a1a1a;
            border-color: #444;
            color: #e0e0e0;
        }

        body.dark-mode .extensions-manager {
            background: #1a1a1a;
            border-color: #444;
        }

        body.dark-mode .extensions-list {
            background: #2d2d2d;
            border-color: #444;
        }

        body.dark-mode .whitelist-info {
            background: #1a3a5f;
            border-color: #2a5298;
            color: #e0e0e0;
        }

        body.dark-mode footer {
            border-top-color: #444;
            color: #888;
        }

        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--secondary);
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .theme-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        body.dark-mode .theme-toggle {
            background: #2a5298;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Unicode Tools Suite</h1>
            <p class="subtitle">Character analysis, text cleaning, and file extraction in one powerful tool</p>
        </header>
        
        <div class="tabs">
            <button class="tab active" data-tab="viewer">Character Viewer</button>
            <button class="tab" data-tab="cleaner">Text Cleaner</button>
            <button class="tab" data-tab="extractor">Text Extractor</button>
        </div>
        
        <div class="tab-content active" id="viewer-tab">
            <div class="main-content">
                <div class="input-section">
                    <div class="section-title">
                        <h2>Input Text</h2>
                    </div>
                    
                    <textarea id="inputText" placeholder="Paste text to analyze here...">See what's hidden in your string‚Ä¶	or be‚ÄãhindÔªø</textarea>
                    
                    <div class="file-upload">
                        <label for="fileInput">Or upload a text file:</label>
                        <input type="file" id="fileInput" class="file-input">
                        <div class="file-size-info">Maximum file size: 10MB</div>
                    </div>
                    
                    <div class="actions">
                        <button id="processBtn" class="btn-primary">View Characters</button>
                        <button id="clearBtn" class="btn-outline">Clear All</button>
                    </div>
                    
                    <div class="loading" id="loadingIndicator">Processing...</div>
                </div>
                
                <div class="output-section">
                    <div class="section-title">
                        <h2>Character Analysis</h2>
                    </div>
                    
                    <div class="output-text">
                        <div id="outputView" class="output" dir="auto"></div>
                        <div id="charCount" style="margin-top: 10px;"></div>
                        <div class="unicode-display" id="unicodeDisplay">
                            <div class="unicode-placeholder">Click on any character to view its Unicode details</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="tab-content" id="cleaner-tab">
            <div class="main-content">
                <div class="input-section">
                    <div class="section-title">
                        <h2>Input Text</h2>
                    </div>
                    
                    <textarea id="cleanInputText" placeholder="Paste text to clean here..."></textarea>
                    
                    <div class="file-upload">
                        <label for="cleanFileInput">Or upload a text file:</label>
                        <input type="file" id="cleanFileInput" class="file-input">
                        <div class="file-size-info">Maximum file size: 10MB</div>
                    </div>
                    
                    <div class="actions">
                        <button id="cleanProcessBtn" class="btn-primary">Clean Text</button>
                        <button id="cleanClearBtn" class="btn-outline">Clear All</button>
                    </div>
                    
                    <div class="loading" id="cleanLoadingIndicator">Processing...</div>
                </div>
                
                <div class="output-section">
                    <div class="section-title">
                        <h2>Clean Text</h2>
                    </div>
                    
                    <div class="output-text">
                        <button id="downloadBtn" class="btn-success download-btn">Download</button>
                        <button id="copyBtn" class="btn-success copy-btn">Copy</button>
                        <textarea id="cleanOutputText" placeholder="Clean text will appear here..." readonly></textarea>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="tab-content" id="extractor-tab">
            <div class="extractor-main-content">
                <div class="extractor-card">
                    <h2 class="extractor-card-title">Upload Files</h2>
                    
                    <div class="whitelist-info">
                        <strong>Allowed File Types:</strong> Text files, code files, documents, data files, scripts, and configuration files. We use a whitelist approach to ensure only text-extractable files are processed.
                    </div>
                    
                    <div class="upload-area" id="dropArea">
                        <div class="upload-icon">üìÅ</div>
                        <p>Drag & drop multiple files or click to browse</p>
                        <p style="font-size: 0.9rem; margin-top: 10px; color: #6c757d;">You can select multiple files at once</p>
                        <button class="btn btn-primary" id="browseBtn">Select Files</button>
                        <input type="file" id="extractorFileInput" class="file-input" multiple>
                        <div class="file-size-info">Maximum file size: 10MB per file</div>
                    </div>
                    
                    <div class="progress-bar" id="progressContainer">
                        <div class="progress" id="progressBar"></div>
                    </div>
                    
                    <div class="rejected-files" id="rejectedFiles">
                        <h4>Unsupported Files</h4>
                        <div id="rejectedFilesList"></div>
                    </div>
                    
                    <div class="file-count" id="fileCount">0 files</div>
                    
                    <div class="file-list" id="fileList">
                        <div class="empty-state">
                            <p>No files uploaded yet</p>
                        </div>
                    </div>
                    
                    <div class="actions">
                        <button class="btn btn-success" id="extractBtn">Extract Text from All Files</button>
                        <button class="btn btn-outline" id="extractorClearBtn">Clear All Files</button>
                    </div>
                    
                    <div class="extensions-manager">
                        <h3>Manage Allowed File Extensions</h3>
                        <div class="extensions-controls">
                            <input type="text" id="newExtensionInput" placeholder="Enter file extension (e.g., rtf)" maxlength="10">
                            <button class="btn btn-primary" id="addExtensionBtn">Add</button>
                        </div>
                        <div class="extensions-list" id="extensionsList"></div>
                        <div style="margin-top: 10px; font-size: 0.8rem; color: #6c757d;">
                            Gray extensions are system defaults and cannot be removed
                        </div>
                    </div>
                </div>
                
                <div class="extractor-card">
                    <h2 class="extractor-card-title">Extracted Text</h2>
                    
                    <div class="text-output" id="textOutput">
                        <div class="empty-state">
                            <p>No files processed yet. Upload files and click "Extract Text".</p>
                        </div>
                    </div>
                    
                    <div class="output-actions">
                        <button class="btn btn-primary" id="extractorCopyBtn">Copy Text</button>
                        <button class="btn btn-success" id="extractorDownloadBtn">Download as TXT</button>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="info-section">
            <h2>About This Tool</h2>
            <p>This comprehensive tool suite helps you analyze, clean, and extract text. Use the Character Viewer to detect hidden Unicode characters, the Text Cleaner to remove them, and the Text Extractor to pull text content from multiple files.</p>
            <h2>Repository & Updates</h2>
            <p>Depend on regular repository checks to stay updated with the latest releases and improvements.
            All processing is executed locally without any internet connection to ensure maximum privacy and security.</p>
            <p><strong>Repository:</strong> <a href="https://github.com/XvoidcrewX/unikit" target="_blank">click here</a></p>

            <h2>Helpful Sites for Details on UTF Characters</h2>
            <ul>
                <li><a href="https://www.branah.com/unicode-converter" target="_blank">Branah.com Unicode Converter</a></li>
                <li><a href="http://www.fileformat.info/info/unicode/char/search.htm" target="_blank">FileFormat.Info</a></li>
                <li><a href="http://utf8-chartable.de/unicode-utf8-table.pl" target="_blank">utf8-chartable.de</a></li>
                <li><a href="https://cloudconvert.com/"target="_blank">cloudconvert.com</a></li>
            </ul>
            
            <h2>Privacy Note</h2>
            <p>This web page (tool) does not store any information about you (no cookies, no IP logging) and it does not store any of the text that is written or pasted into the box above.</p>
        </div>
        
        <footer>
            <p>Unicode Tools Suite ‚Äì ¬© 2025 XvoidcrewX. All rights reserved</p>
        </footer>
    </div>

    <div id="notification" class="notification"></div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const tabs = document.querySelectorAll('.tab');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabId = tab.getAttribute('data-tab');
                    
                    tabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    
                    tabContents.forEach(content => content.classList.remove('active'));
                    document.getElementById(`${tabId}-tab`).classList.add('active');
                });
            });
            
            const inputText = document.getElementById('inputText');
            const outputView = document.getElementById('outputView');
            const processBtn = document.getElementById('processBtn');
            const clearBtn = document.getElementById('clearBtn');
            const fileInput = document.getElementById('fileInput');
            const charCount = document.getElementById('charCount');
            const notification = document.getElementById('notification');
            const loadingIndicator = document.getElementById('loadingIndicator');
            const unicodeDisplay = document.getElementById('unicodeDisplay');
            
            const cleanInputText = document.getElementById('cleanInputText');
            const cleanOutputText = document.getElementById('cleanOutputText');
            const cleanProcessBtn = document.getElementById('cleanProcessBtn');
            const cleanClearBtn = document.getElementById('cleanClearBtn');
            const cleanFileInput = document.getElementById('cleanFileInput');
            const copyBtn = document.getElementById('copyBtn');
            const downloadBtn = document.getElementById('downloadBtn');
            const cleanLoadingIndicator = document.getElementById('cleanLoadingIndicator');
            
            const extractorFileInput = document.getElementById('extractorFileInput');
            const browseBtn = document.getElementById('browseBtn');
            const dropArea = document.getElementById('dropArea');
            const extractorFileList = document.getElementById('fileList');
            const extractBtn = document.getElementById('extractBtn');
            const extractorTextOutput = document.getElementById('textOutput');
            const extractorCopyBtn = document.getElementById('extractorCopyBtn');
            const extractorDownloadBtn = document.getElementById('extractorDownloadBtn');
            const extractorClearBtn = document.getElementById('extractorClearBtn');
            const extractorFileCount = document.getElementById('fileCount');
            const rejectedFilesContainer = document.getElementById('rejectedFiles');
            const rejectedFilesList = document.getElementById('rejectedFilesList');
            const progressContainer = document.getElementById('progressContainer');
            const progressBar = document.getElementById('progressBar');
            
            const newExtensionInput = document.getElementById('newExtensionInput');
            const addExtensionBtn = document.getElementById('addExtensionBtn');
            const extensionsList = document.getElementById('extensionsList');
            
            const unicodeChars = [
                '\u200B', '\uFEFF', '\u200C', '\u200D', '\u2060', '\u180E', 
                '\u200E', '\u200F', '\u202A', '\u202B', '\u202C', '\u202D', 
                '\u202E', '\u2061', '\u2062', '\u2063', '\u2064', '\uFFF0', 
                '\uFFF1', '\uFFF2', '\uFFF3', '\uFFF4', '\uFFF5', '\uFFF6', 
                '\uFFF7', '\uFFF8', '\uFFF9', '\uFFFA', '\uFFFB', '\uFFFC', 
                '\uFFFD'
            ];
            
            const MAX_FILE_SIZE = 10 * 1024 * 1024;
            
            const systemExtensions = [
                'txt', 'text', 'log', 'md', 'markdown',
                'js', 'jsx', 'ts', 'tsx', 'py', 'java', 'c', 'cpp', 'cs', 'php', 'rb', 'go', 'rs', 'swift', 'kt', 'scala',
                'html', 'htm', 'css', 'scss', 'sass', 'less', 'xml',
                'json', 'csv', 'yaml', 'yml', 'ini', 'conf', 'cfg', 'properties', 'sql',
                'bat', 'sh', 'ps1'
            ];
            
            let userExtensions = JSON.parse(localStorage.getItem('userExtensions')) || [];
            
            let allowedExtensions = [...systemExtensions, ...userExtensions];
            
            let extractorFiles = [];
            let rejectedFiles = [];
            
            function showNotification(message, type = 'success') {
                notification.textContent = message;
                notification.className = 'notification';
                notification.classList.add(type);
                notification.classList.add('show');
                
                setTimeout(() => {
                    notification.classList.remove('show');
                }, 3000);
            }
            
            function showLoading(loader) {
                loader.style.display = 'block';
            }
            
            function hideLoading(loader) {
                loader.style.display = 'none';
            }
            
            function simulateProcessing(callback, loader) {
                showLoading(loader);
                setTimeout(() => {
                    callback();
                    hideLoading(loader);
                }, 500);
            }
            
            function renderExtensions() {
                extensionsList.innerHTML = '';
                
                systemExtensions.forEach(ext => {
                    const extensionTag = document.createElement('div');
                    extensionTag.className = 'extension-tag system';
                    extensionTag.innerHTML = `${ext}`;
                    extensionsList.appendChild(extensionTag);
                });
                
                userExtensions.forEach((ext, index) => {
                    const extensionTag = document.createElement('div');
                    extensionTag.className = 'extension-tag';
                    extensionTag.innerHTML = `${ext} <span class="remove" data-index="${index}">√ó</span>`;
                    extensionsList.appendChild(extensionTag);
                });
                
                document.querySelectorAll('.extension-tag:not(.system) .remove').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const index = parseInt(this.getAttribute('data-index'));
                        removeUserExtension(index);
                    });
                });
            }
            
            function addUserExtension(extension) {
                const normalizedExt = extension.toLowerCase().replace(/^\./, '');
                
                if (!/^[a-z0-9]{1,10}$/.test(normalizedExt)) {
                    showNotification('Extension must be 1-10 alphanumeric characters', 'error');
                    return false;
                }
                
                if (allowedExtensions.includes(normalizedExt)) {
                    showNotification('Extension already exists', 'error');
                    return false;
                }
                
                userExtensions.push(normalizedExt);
                
                allowedExtensions = [...systemExtensions, ...userExtensions];
                
                localStorage.setItem('userExtensions', JSON.stringify(userExtensions));
                
                renderExtensions();
                
                newExtensionInput.value = '';
                
                showNotification(`Extension .${normalizedExt} added successfully`);
                return true;
            }
            
            function removeUserExtension(index) {
                userExtensions.splice(index, 1);
                
                allowedExtensions = [...systemExtensions, ...userExtensions];
                
                localStorage.setItem('userExtensions', JSON.stringify(userExtensions));
                
                renderExtensions();
                
                showNotification('Extension removed successfully');
            }
            
            function htmlChar(c) {
                let desc, hex, decimal;
                
                if (c.length === 1) {
                    const code = c.charCodeAt(0);
                    decimal = code;
                    hex = '0x' + code.toString(16).padStart(2, '0').toUpperCase();
                    desc = 'U+' + code.toString(16).padStart(4, '0').toUpperCase();
                } else {
                    const codePoint = c.codePointAt(0);
                    decimal = codePoint;
                    hex = 'U+' + codePoint.toString(16).padStart(4, '0').toUpperCase();
                    desc = 'UTF-16 Surrogate Pair';
                }
                
                const symbolElement = document.createElement('span');
                symbolElement.className = 'S2Tooltip anchor';
                symbolElement.innerHTML = getSymbolDisplay(c, hex);
                
                symbolElement.addEventListener('click', function() {
                    showUnicodeDetails(c, decimal, hex, desc);
                });
                
                symbolElement.addEventListener('mouseenter', function() {
                    this.style.cursor = 'pointer';
                });
                
                symbolElement.addEventListener('mouseleave', function() {
                    this.style.backgroundColor = '';
                });
                
                return symbolElement.outerHTML +
                    '<span class="S2Tooltip container">' +
                    '<span class="S2Tooltip tiptext rounded shadow">' + decimal + '<br>' + hex + '</span>' +
                    '</span>';
            }

            function getSymbolDisplay(c, hex) {
                if (c === "\r") {
                    return '<span class="symbol">CR</span>';
                } else if (c === "\n") {
                    return '<span class="symbol">LF</span>';
                } else if (c === "\t") {
                    return '<span class="symbol">‚ü∂</span>&#8203;';
                } else if (c === " ") {
                    return '<span class="white">¬∑</span>&#8203;';
                } else {
                    if (/^[\p{L}\p{M}\p{N}\p{P}\p{S}]$/u.test(c)) {
                        return c;
                    } else {
                        return '<span class="hex">' + hex + '</span>';
                    }
                }
            }

            function showUnicodeDetails(char, decimal, hex, unicode) {
                let charDisplay = char;
                if (char === "\r") charDisplay = "CR (Carriage Return)";
                else if (char === "\n") charDisplay = "LF (Line Feed)";
                else if (char === "\t") charDisplay = "TAB (Tabulation)";
                else if (char === " ") charDisplay = "Space";
                else if (char.charCodeAt(0) < 32) charDisplay = "Control Character";
                
                unicodeDisplay.innerHTML = `
                    <div class="unicode-details">
                        <strong>Character:</strong> "${charDisplay}"<br>
                        <strong>Decimal:</strong> ${decimal}<br>
                        <strong>Hexadecimal:</strong> ${hex}<br>
                        <strong>Unicode:</strong> ${unicode}<br>
                        <strong>Length:</strong> ${char.length} character(s)
                    </div>
                `;
            }
            
            function textToHtml(s) {
                let html = '';
                let nlc = 0;
                
                for (let i = 0; i < s.length; i++) {
                    let c = s[i];
                    
                    if (c >= '\uD800' && c <= '\uDBFF' && i + 1 < s.length) {
                        const next = s[i + 1];
                        if (next >= '\uDC00' && next <= '\uDFFF') {
                            c = s.substring(i, i + 2);
                            i++;
                        }
                    }
                    
                    if (c === "\r") {
                        if (nlc === 0) {
                            nlc = 1;
                            html += htmlChar(c);
                        } else if (nlc === 1) {
                            html += '<br>' + htmlChar(c);
                            nlc = 1;
                        } else if (nlc === 2) {
                            html += htmlChar(c) + '<br>';
                            nlc = 0;
                        }
                    } else if (c === "\n") {
                        const sym = htmlChar(c);
                        if (nlc === 0) {
                            nlc = 2;
                            html += sym;
                        } else if (nlc === 2) {
                            html += '<br>' + htmlChar(c);
                            nlc = 2;
                        } else if (nlc === 1) {
                            html += htmlChar(c) + '<br>';
                            nlc = 0;
                        }
                    } else {
                        html += htmlChar(c);
                        nlc = 0;
                    }
                }
                
                return html;
            }
            
            function processTextForViewer() {
                simulateProcessing(function() {
                    const text = inputText.value;
                    
                    if (!text.trim()) {
                        showNotification('Please enter some text to analyze', 'error');
                        return;
                    }
                    
                    const html = textToHtml(text);
                    outputView.innerHTML = html;
                    
                    const charCountText = `${text.length} characters, ${new Blob([text]).size} bytes`;
                    charCount.textContent = charCountText;
                    
                    unicodeDisplay.innerHTML = '<div class="unicode-placeholder">Click on any character to view its Unicode details</div>';
                    
                    showNotification('Text analyzed successfully!');
                }, loadingIndicator);
            }
            
            function cleanText(text) {
                let cleanedText = text;
                
                unicodeChars.forEach(char => {
                    const regex = new RegExp(char, 'g');
                    cleanedText = cleanedText.replace(regex, '');
                });
                
                return cleanedText;
            }
            
            function processTextForCleaner() {
                simulateProcessing(function() {
                    const text = cleanInputText.value;
                    
                    if (!text.trim()) {
                        showNotification('Please enter some text to clean', 'error');
                        return;
                    }
                    
                    const cleanedText = cleanText(text);
                    cleanOutputText.value = cleanedText;
                    
                    showNotification('Text cleaned successfully!');
                }, cleanLoadingIndicator);
            }
            
            function isFileTypeAllowed(file) {
                const fileExtension = file.name.split('.').pop().toLowerCase();
                
                return allowedExtensions.includes(fileExtension);
            }
            
            function isFileSizeAllowed(file) {
                return file.size <= MAX_FILE_SIZE;
            }
            
            function processExtractorFiles(fileList) {
                rejectedFiles = [];
                let filesAdded = false;
                
                for (let i = 0; i < fileList.length; i++) {
                    const file = fileList[i];
                    
                    if (!isFileSizeAllowed(file)) {
                        rejectedFiles.push({
                            file: file,
                            reason: `File too large (${formatFileSize(file.size)} > ${formatFileSize(MAX_FILE_SIZE)})`
                        });
                        continue;
                    }
                    
                    if (!isFileTypeAllowed(file)) {
                        rejectedFiles.push({
                            file: file,
                            reason: "File type not supported"
                        });
                        continue;
                    }
                    
                    const fileExists = extractorFiles.some(f => 
                        f.name === file.name && 
                        f.size === file.size
                    );
                    
                    if (!fileExists) {
                        file.id = Date.now() + '-' + Math.random().toString(36).substr(2, 9);
                        extractorFiles.push(file);
                        filesAdded = true;
                    }
                }
                
                if (rejectedFiles.length > 0) {
                    showRejectedFiles();
                } else {
                    rejectedFilesContainer.style.display = 'none';
                }
                
                if (filesAdded) {
                    renderExtractorFileList();
                    updateExtractorFileCount();
                    showNotification(`Added ${fileList.length - rejectedFiles.length} file(s)`);
                } else if (rejectedFiles.length > 0) {
                    showNotification(`Some files were rejected. Check the list below.`, 'error');
                }
            }
            
            function showRejectedFiles() {
                rejectedFilesList.innerHTML = '';
                rejectedFiles.forEach(rejected => {
                    const rejectedItem = document.createElement('div');
                    rejectedItem.className = 'rejected-file-item';
                    
                    const fileInfo = document.createElement('div');
                    fileInfo.innerHTML = `<strong>${rejected.file.name}</strong> (${formatFileSize(rejected.file.size)})`;
                    
                    const fileReason = document.createElement('div');
                    fileReason.textContent = `Reason: ${rejected.reason}`;
                    fileReason.style.fontSize = '0.8rem';
                    fileReason.style.color = '#856404';
                    
                    rejectedItem.appendChild(fileInfo);
                    rejectedItem.appendChild(fileReason);
                    rejectedFilesList.appendChild(rejectedItem);
                });
                
                rejectedFilesContainer.style.display = 'block';
            }
            
            function renderExtractorFileList() {
                extractorFileList.innerHTML = '';
                
                if (extractorFiles.length === 0) {
                    extractorFileList.innerHTML = `
                        <div class="empty-state">
                            <p>No files uploaded yet</p>
                        </div>
                    `;
                    return;
                }
                
                extractorFiles.forEach((file, index) => {
                    const fileItem = document.createElement('div');
                    fileItem.className = 'file-item';
                    
                    const fileInfo = document.createElement('div');
                    fileInfo.className = 'file-info';
                    
                    const fileIcon = document.createElement('div');
                    fileIcon.className = 'file-icon';
                    fileIcon.innerHTML = getFileIcon(file);
                    
                    const fileDetails = document.createElement('div');
                    fileDetails.className = 'file-details';
                    
                    const fileName = document.createElement('div');
                    fileName.className = 'file-name';
                    fileName.textContent = file.name;
                    
                    const fileMeta = document.createElement('div');
                    fileMeta.className = 'file-meta';
                    fileMeta.textContent = `${formatFileSize(file.size)} ‚Ä¢ ${file.type || 'Unknown type'}`;
                    
                    fileDetails.appendChild(fileName);
                    fileDetails.appendChild(fileMeta);
                    
                    fileInfo.appendChild(fileIcon);
                    fileInfo.appendChild(fileDetails);
                    
                    const fileActions = document.createElement('div');
                    fileActions.className = 'file-actions';
                    
                    const removeBtn = document.createElement('button');
                    removeBtn.className = 'action-btn';
                    removeBtn.innerHTML = '‚ùå';
                    removeBtn.title = 'Remove File';
                    removeBtn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        removeExtractorFile(index);
                    });
                    
                    fileActions.appendChild(removeBtn);
                    
                    fileItem.appendChild(fileInfo);
                    fileItem.appendChild(fileActions);
                    
                    extractorFileList.appendChild(fileItem);
                });
            }
            
            function getFileIcon(file) {
                const extension = file.name.split('.').pop().toLowerCase();
                
                if (['js', 'jsx', 'ts', 'tsx', 'py', 'java', 'c', 'cpp', 'cs', 'php', 'rb', 'go', 'rs', 'swift', 'kt', 'scala'].includes(extension)) {
                    return 'üíª';
                }
                if (['html', 'htm', 'css', 'scss', 'sass', 'less', 'xml'].includes(extension)) {
                    return 'üåê';
                }
                if (['json', 'csv', 'yaml', 'yml', 'sql'].includes(extension)) {
                    return 'üìä';
                }
                if (['txt', 'md', 'markdown', 'log', 'ini', 'conf', 'cfg'].includes(extension)) {
                    return 'üìù';
                }
                if (['pdf', 'doc', 'docx', 'rtf', 'odt'].includes(extension)) {
                    return 'üìÑ';
                }
                if (['bat', 'sh', 'ps1'].includes(extension)) {
                    return '‚öôÔ∏è';
                }
                
                return 'üìÅ';
            }
            
            function formatFileSize(bytes) {
                if (bytes === 0) return '0 Bytes';
                const k = 1024;
                const sizes = ['Bytes', 'KB', 'MB', 'GB'];
                const i = Math.floor(Math.log(bytes) / Math.log(k));
                return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
            }
            
            function removeExtractorFile(index) {
                extractorFiles.splice(index, 1);
                renderExtractorFileList();
                updateExtractorFileCount();
            }
            
            function clearExtractorFiles() {
                extractorFiles = [];
                rejectedFiles = [];
                rejectedFilesContainer.style.display = 'none';
                renderExtractorFileList();
                updateExtractorFileCount();
                extractorTextOutput.innerHTML = `
                    <div class="empty-state">
                        <p>No files processed yet. Upload files and click "Extract Text".</p>
                    </div>
                `;
                showNotification('All files cleared');
            }
            
            function updateExtractorFileCount() {
                extractorFileCount.textContent = `${extractorFiles.length} file${extractorFiles.length !== 1 ? 's' : ''}`;
            }
            
            function extractTextFromFiles() {
                if (extractorFiles.length === 0) {
                    extractorTextOutput.innerHTML = `
                        <div class="empty-state">
                            <p>No files to process. Please upload files first.</p>
                        </div>
                    `;
                    return;
                }
                
                extractorTextOutput.innerHTML = '<div style="padding: 20px; text-align: center;">Processing files...</div>';
                progressContainer.style.display = 'block';
                progressBar.style.width = '0%';
                
                let processedCount = 0;
                let allContent = '';
                
                processNextExtractorFile(0, allContent, processedCount);
            }
            
            function processNextExtractorFile(index, allContent, processedCount) {
                if (index >= extractorFiles.length) {
                    extractorTextOutput.innerHTML = allContent;
                    progressContainer.style.display = 'none';
                    showNotification(`Text extracted from ${extractorFiles.length} file(s)`);
                    return;
                }
                
                const file = extractorFiles[index];
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    const content = e.target.result;
                    
                    const fileContentString = `
=== FILE: ${file.name} ===
Size: ${formatFileSize(file.size)} | Type: ${file.type || 'Unknown type'}
${'-'.repeat(50)}
${content}
${'='.repeat(50)}

`;
                    
                    allContent += fileContentString;
                    processedCount++;
                    
                    const progress = (processedCount / extractorFiles.length) * 100;
                    progressBar.style.width = `${progress}%`;
                    
                    processNextExtractorFile(index + 1, allContent, processedCount);
                };
                
                reader.onerror = function() {
                    const fileContentString = `
=== FILE: ${file.name} (ERROR) ===
Size: ${formatFileSize(file.size)} | Type: ${file.type || 'Unknown type'}
${'-'.repeat(50)}
ERROR: Could not read file content
${'='.repeat(50)}

`;
                    
                    allContent += fileContentString;
                    processedCount++;
                    
                    const progress = (processedCount / extractorFiles.length) * 100;
                    progressBar.style.width = `${progress}%`;
                    
                    processNextExtractorFile(index + 1, allContent, processedCount);
                };
                
                try {
                    reader.readAsText(file);
                } catch (error) {
                    console.error('Error reading file:', error);
                    const arrayBufferReader = new FileReader();
                    arrayBufferReader.onload = function(e) {
                        try {
                            const decoder = new TextDecoder('utf-8');
                            const content = decoder.decode(e.target.result);
                            
                            const fileContentString = `
=== FILE: ${file.name} (BINARY DECODED) ===
Size: ${formatFileSize(file.size)} | Type: ${file.type || 'Unknown type'}
${'-'.repeat(50)}
${content}
${'='.repeat(50)}

`;
                            
                            allContent += fileContentString;
                            processedCount++;
                            
                            const progress = (processedCount / extractorFiles.length) * 100;
                            progressBar.style.width = `${progress}%`;
                            
                            processNextExtractorFile(index + 1, allContent, processedCount);
                        } catch (decodeError) {
                            console.error('Error decoding file:', decodeError);
                            
                            const fileContentString = `
=== FILE: ${file.name} (BINARY - DECODE FAILED) ===
Size: ${formatFileSize(file.size)} | Type: ${file.type || 'Unknown type'}
${'-'.repeat(50)}
Binary file - content could not be decoded as text
${'='.repeat(50)}

`;
                            
                            allContent += fileContentString;
                            processedCount++;
                            
                            const progress = (processedCount / extractorFiles.length) * 100;
                            progressBar.style.width = `${progress}%`;
                            
                            processNextExtractorFile(index + 1, allContent, processedCount);
                        }
                    };
                    arrayBufferReader.readAsArrayBuffer(file);
                }
            }
            
            function copyExtractorTextToClipboard() {
                const text = extractorTextOutput.textContent || extractorTextOutput.innerText;
                
                if (!text || text.includes('No files processed yet')) {
                    showNotification('No text to copy!', 'error');
                    return;
                }
                
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                textArea.setSelectionRange(0, 99999);
                
                try {
                    const successful = document.execCommand('copy');
                    document.body.removeChild(textArea);
                    
                    if (successful) {
                        showNotification('Text copied to clipboard!');
                        if (navigator.vibrate) {
                            navigator.vibrate(100);
                        }
                    } else {
                        showNotification('Failed to copy text', 'error');
                    }
                } catch (err) {
                    document.body.removeChild(textArea);
                    console.error('Failed to copy text: ', err);
                    showNotification('Failed to copy text', 'error');
                }
            }
            
            function downloadExtractorTextAsFile() {
                const text = extractorTextOutput.textContent || extractorTextOutput.innerText;
                
                if (!text || text.includes('No files processed yet')) {
                    showNotification('No text to download!', 'error');
                    return;
                }
                
                const blob = new Blob([text], { type: 'text/plain;charset=utf-8' });
                const url = URL.createObjectURL(blob);
                
                const a = document.createElement('a');
                a.href = url;
                a.download = 'extracted_text.txt';
                document.body.appendChild(a);
                a.click();
                
                setTimeout(() => {
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                }, 100);
                
                showNotification('Text downloaded as file');
            }
            
            processBtn.addEventListener('click', processTextForViewer);
            
            clearBtn.addEventListener('click', function() {
                inputText.value = '';
                outputView.innerHTML = '';
                charCount.textContent = '';
                unicodeDisplay.innerHTML = '<div class="unicode-placeholder">Click on any character to view its Unicode details</div>';
                showNotification('All fields cleared');
            });
            
            fileInput.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (!file) return;
                
                if (!isFileSizeAllowed(file)) {
                    showNotification(`File too large (max ${formatFileSize(MAX_FILE_SIZE)})`, 'error');
                    return;
                }
                
                if (!isFileTypeAllowed(file)) {
                    showNotification('Please upload a supported text file', 'error');
                    return;
                }
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    inputText.value = e.target.result;
                    showNotification(`File "${file.name}" loaded successfully`);
                };
                reader.readAsText(file);
            });
            
            cleanProcessBtn.addEventListener('click', processTextForCleaner);
            
            cleanClearBtn.addEventListener('click', function() {
                cleanInputText.value = '';
                cleanOutputText.value = '';
                showNotification('All fields cleared');
            });
            
            copyBtn.addEventListener('click', function() {
                if (cleanOutputText.value) {
                    cleanOutputText.select();
                    document.execCommand('copy');
                    showNotification('Clean text copied to clipboard!');
                } else {
                    showNotification('No clean text to copy', 'error');
                }
            });
            
            downloadBtn.addEventListener('click', function() {
                if (cleanOutputText.value) {
                    const blob = new Blob([cleanOutputText.value], { type: 'text/plain;charset=utf-8' });
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = 'clean-text.txt';
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                    showNotification('Clean text downloaded successfully!');
                } else {
                    showNotification('No clean text to download', 'error');
                }
            });
            
            cleanFileInput.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (!file) return;
                
                if (!isFileSizeAllowed(file)) {
                    showNotification(`File too large (max ${formatFileSize(MAX_FILE_SIZE)})`, 'error');
                    return;
                }
                
                if (!isFileTypeAllowed(file)) {
                    showNotification('Please upload a supported text file', 'error');
                    return;
                }
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    cleanInputText.value = e.target.result;
                    showNotification(`File "${file.name}" loaded successfully`);
                };
                reader.readAsText(file);
            });
            
            browseBtn.addEventListener('click', () => extractorFileInput.click());
            extractorFileInput.addEventListener('change', function(e) {
                const selectedFilesList = e.target.files;
                if (selectedFilesList.length > 0) {
                    processExtractorFiles(selectedFilesList);
                    extractorFileInput.value = '';
                }
            });
            
            dropArea.addEventListener('dragover', function(e) {
                e.preventDefault();
                e.stopPropagation();
                dropArea.classList.add('active');
            });
            
            dropArea.addEventListener('dragleave', function(e) {
                e.preventDefault();
                e.stopPropagation();
                if (!dropArea.contains(e.relatedTarget)) {
                    dropArea.classList.remove('active');
                }
            });
            
            dropArea.addEventListener('drop', function(e) {
                e.preventDefault();
                e.stopPropagation();
                dropArea.classList.remove('active');
                const droppedFiles = e.dataTransfer.files;
                if (droppedFiles.length > 0) {
                    processExtractorFiles(droppedFiles);
                }
            });
            
            extractBtn.addEventListener('click', extractTextFromFiles);
            extractorCopyBtn.addEventListener('click', copyExtractorTextToClipboard);
            extractorDownloadBtn.addEventListener('click', downloadExtractorTextAsFile);
            extractorClearBtn.addEventListener('click', clearExtractorFiles);
            
            addExtensionBtn.addEventListener('click', function() {
                addUserExtension(newExtensionInput.value);
            });
            
            newExtensionInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    addUserExtension(newExtensionInput.value);
                }
            });
            
            processTextForViewer();
            renderExtractorFileList();
            updateExtractorFileCount();
            renderExtensions();
            progressContainer.style.display = 'none';
        });
        
        function initDarkMode() {
            const toggleBtn = document.createElement('button');
            toggleBtn.className = 'theme-toggle';
            toggleBtn.innerHTML = 'üåô';
            toggleBtn.title = 'Toggle Dark Mode';
            document.body.appendChild(toggleBtn);
            
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-mode');
                toggleBtn.innerHTML = '‚òÄÔ∏è';
                toggleBtn.title = 'Switch to Light Mode';
            }
            
            toggleBtn.addEventListener('click', function() {
                document.body.classList.toggle('dark-mode');
                
                if (document.body.classList.contains('dark-mode')) {
                    localStorage.setItem('theme', 'dark');
                    toggleBtn.innerHTML = '‚òÄÔ∏è';
                    toggleBtn.title = 'Switch to Light Mode';
                } else {
                    localStorage.setItem('theme', 'light');
                    toggleBtn.innerHTML = 'üåô';
                    toggleBtn.title = 'Switch to Dark Mode';
                }
            });
        }

        initDarkMode();
    </script>
</body>
</html>